<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Steven&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="һ��OIer�����ļ�¼">
<meta property="og:type" content="website">
<meta property="og:title" content="Steven&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Steven&#39;s Blog">
<meta property="og:description" content="һ��OIer�����ļ�¼">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Steven&#39;s Blog">
<meta name="twitter:description" content="һ��OIer�����ļ�¼">
  
    <link rel="alternate" href="/atom.xml" title="Steven&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Steven&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-洛谷P1941-飞扬的小鸟-题解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/09/洛谷P1941-飞扬的小鸟-题解/" class="article-date">
  <time datetime="2017-10-09T15:02:15.000Z" itemprop="datePublished">2017-10-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/09/洛谷P1941-飞扬的小鸟-题解/">洛谷P1941 飞扬的小鸟 题解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天本蒟蒻又搞了一道DP题——飞扬的小鸟。<br><strong>题目：</strong><br>题目描述</p>
<p>Flappy Bird 是一款风靡一时的休闲手机游戏。玩家需要不断控制点击手机屏幕的频率来调节小鸟的飞行高度，让小鸟顺利通过画面右方的管道缝隙。如果小鸟一不小心撞到了水管或者掉在地上的话，便宣告失败。</p>
<p>为了简化问题，我们对游戏规则进行了简化和改编：</p>
<p>游戏界面是一个长为n ，高为 m 的二维平面，其中有k 个管道（忽略管道的宽度）。</p>
<p>小鸟始终在游戏界面内移动。小鸟从游戏界面最左边任意整数高度位置出发，到达游戏界面最右边时，游戏完成。</p>
<p>小鸟每个单位时间沿横坐标方向右移的距离为1 ，竖直移动的距离由玩家控制。如果点击屏幕，小鸟就会上升一定高度X ，每个单位时间可以点击多次，效果叠加；<br>如果不点击屏幕，小鸟就会下降一定高度Y 。小鸟位于横坐标方向不同位置时，上升的高度X 和下降的高度Y 可能互不相同。</p>
<p>小鸟高度等于0 或者小鸟碰到管道时，游戏失败。小鸟高度为 m 时，无法再上升。<br>现在，请你判断是否可以完成游戏。如果可以 ，输出最少点击屏幕数；否则，输出小鸟最多可以通过多少个管道缝隙。</p>
<p>输入输出格式</p>
<p>输入格式：<br>输入文件名为 bird.in 。</p>
<p>第1 行有3 个整数n ，m ，k ，分别表示游戏界面的长度，高度和水管的数量，每两个</p>
<p>整数之间用一个空格隔开；</p>
<p>接下来的n 行，每行2 个用一个空格隔开的整数X 和Y ，依次表示在横坐标位置0 ~n- 1</p>
<p>上玩家点击屏幕后，小鸟在下一位置上升的高度X ，以及在这个位置上玩家不点击屏幕时，</p>
<p>小鸟在下一位置下降的高度Y 。</p>
<p>接下来k 行，每行3 个整数P ，L ，H ，每两个整数之间用一个空格隔开。每行表示一</p>
<p>个管道，其中P 表示管道的横坐标，L 表示此管道缝隙的下边沿高度为L ，H 表示管道缝隙</p>
<p>上边沿的高度（输入数据保证P 各不相同，但不保证按照大小顺序给出）。</p>
<p>输出格式：<br>输出文件名为bird.out 。</p>
<p>共两行。</p>
<p>第一行，包含一个整数，如果可以成功完成游戏，则输出1 ，否则输出0 。</p>
<p>第二行，包含一个整数，如果第一行为1 ，则输出成功完成游戏需要最少点击屏幕数，否则，输出小鸟最多可以通过多少个管道缝隙。</p>
<p>输入输出样例</p>
<p>输入样例#1：<br>10 10 6<br>3 9<br>9 9<br>1 2<br>1 3<br>1 2<br>1 1<br>2 1<br>2 1<br>1 6<br>2 2<br>1 2 7<br>5 1 5<br>6 3 5<br>7 5 8<br>8 7 9<br>9 1 3<br>输出样例#1：<br>1<br>6</p>
<p>输入样例#2：<br>10 10 4<br>1 2<br>3 1<br>2 2<br>1 8<br>1 8<br>3 2<br>2 1<br>2 1<br>2 2<br>1   2<br>1 0 2<br>6 7 9<br>9 1 4<br>3 8 10<br>输出样例#2：<br>0<br>3<br>说明</p>
<p>【输入输出样例说明】</p>
<p>如下图所示，蓝色直线表示小鸟的飞行轨迹，红色直线表示管道。<br><img src="https://cdn.luogu.org/upload/pic/1348.png" alt="输入输出样例说明"></p>
<p>【数据范围】</p>
<p>对于30% 的数据：5 ≤ n ≤ 10，5 ≤ m ≤ 10，k = 0 ，保证存在一组最优解使得同一单位时间最多点击屏幕3 次；</p>
<p>对于50% 的数据：5 ≤ n ≤ 2 0 ，5 ≤ m ≤ 10，保证存在一组最优解使得同一单位时间最多点击屏幕3 次；</p>
<p>对于70% 的数据：5 ≤ n ≤ 1000，5 ≤ m ≤ 1 0 0 ；</p>
<p>对于100%的数据：5 ≤ n ≤ 100 0 0 ，5 ≤ m ≤ 1 0 00，0 ≤ k &lt; n ，0&lt;X &lt; m ，0&lt;Y &lt;m，0&lt;P &lt;n，0 ≤ L &lt; H ≤ m ，L +1&lt; H 。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> DB;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">10050</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">1050</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> x[N], y[N];</div><div class="line"><span class="keyword">int</span> n, m, p;</div><div class="line"><span class="keyword">int</span> low[N], high[N];</div><div class="line"><span class="keyword">int</span> f[N][M * <span class="number">2</span>];</div><div class="line"><span class="keyword">bool</span> e[N];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span>  r = <span class="number">0</span>, z = <span class="number">1</span>;</div><div class="line">	<span class="keyword">char</span> ch = getchar();</div><div class="line">	<span class="keyword">while</span>(ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>)&#123;<span class="keyword">if</span>(ch == <span class="string">'-'</span>) z = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">	<span class="keyword">while</span>(ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)&#123;r = r * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">	<span class="keyword">return</span> r * z;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Min</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;<span class="keyword">return</span> a &lt; b ? a : b;&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Max</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;<span class="keyword">return</span> a &gt; b ? a : b;&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">fre</span><span class="params">()</span></span>&#123;</div><div class="line">	freopen(<span class="string">".in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line">	freopen(<span class="string">".out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">GetData</span><span class="params">()</span></span>&#123;</div><div class="line">	n = read(), m = read(), p = read();</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) x[i] = read(), y[i] = read();</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</div><div class="line">		low[i] = <span class="number">1</span>;</div><div class="line">		high[i] = m;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= p; i ++)&#123;</div><div class="line">		<span class="keyword">int</span> a = read(), b = read(), c = read();</div><div class="line">		low[a] = b + <span class="number">1</span>, high[a] = c - <span class="number">1</span>;</div><div class="line">		e[a] = <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Do</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="built_in">memset</span>(f, <span class="number">0x3f</span>, <span class="keyword">sizeof</span>(f));</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j ++)</div><div class="line">		f[<span class="number">0</span>][j] = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</div><div class="line">		</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = x[i] + <span class="number">1</span>; j &lt;= m + x[i]; j ++)</div><div class="line">			f[i][j] = Min(f[i - <span class="number">1</span>][j - x[i]] + <span class="number">1</span>, f[i][j - x[i]] + <span class="number">1</span>);</div><div class="line">		<span class="comment">//上升 </span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = m + <span class="number">1</span>; j &lt;= m + x[i]; j ++)</div><div class="line">			f[i][m] = Min(f[i][m], f[i][j]);</div><div class="line">		<span class="comment">//特判 </span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j + y[i] &lt;= m; j ++)</div><div class="line">			f[i][j] = Min(f[i][j], f[i - <span class="number">1</span>][j + y[i]]);</div><div class="line">		<span class="comment">//下降 </span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; low[i]; j ++)</div><div class="line">			f[i][j] = f[<span class="number">0</span>][<span class="number">0</span>]; <span class="comment">//+oo</span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = high[i] + <span class="number">1</span>; j &lt;= m; j ++)</div><div class="line">			f[i][j] = f[<span class="number">0</span>][<span class="number">0</span>]; <span class="comment">//+oo</span></div><div class="line">		<span class="comment">//管道 </span></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> ans = f[<span class="number">0</span>][<span class="number">0</span>];</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j ++)</div><div class="line">		ans = Min(ans, f[n][j]);</div><div class="line">	<span class="keyword">if</span>(ans &lt; f[<span class="number">0</span>][<span class="number">0</span>]) <span class="built_in">printf</span>(<span class="string">"1\n%d\n"</span>, ans);</div><div class="line">	<span class="keyword">else</span> &#123;</div><div class="line">		<span class="keyword">int</span> i, j;</div><div class="line">		<span class="keyword">for</span>(i = n; i &gt;= <span class="number">1</span>; i--)&#123;</div><div class="line">			<span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;= m; j ++)&#123;</div><div class="line">				<span class="keyword">if</span>(f[i][j] &lt; f[<span class="number">0</span>][<span class="number">0</span>]) <span class="keyword">break</span>;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span>(j &lt;= m) <span class="keyword">break</span>;</div><div class="line">		&#125;</div><div class="line">		ans = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;= i; j ++)</div><div class="line">			<span class="keyword">if</span>(e[j]) ans ++;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"0\n%d\n"</span>, ans);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</div><div class="line">	GetData();</div><div class="line">	Do();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line"><span class="comment">//	fre();</span></div><div class="line">	init();</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/10/09/洛谷P1941-飞扬的小鸟-题解/" data-id="cj8lqzlwf0004kwrs2eyi9jsc" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/题解/">题解</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2017-10-1-2017-10-8总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/09/2017-10-1-2017-10-8总结/" class="article-date">
  <time datetime="2017-10-09T15:01:18.000Z" itemprop="datePublished">2017-10-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/09/2017-10-1-2017-10-8总结/">2017.10.1-2017.10.8总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="2017-10-1-2017-10-8总结"><a href="#2017-10-1-2017-10-8总结" class="headerlink" title="2017.10.1-2017.10.8总结"></a>2017.10.1-2017.10.8总结</h2><h3 id="10-1-10-4总结"><a href="#10-1-10-4总结" class="headerlink" title="10.1-10.4总结"></a>10.1-10.4总结</h3><p>显然，这四天是十一，最近过于疲惫的我请了3天的假，<del>在家里好好休息了一番</del> （感觉在家休息也是做题学习啊）</p>
<h3 id="10-5总结"><a href="#10-5总结" class="headerlink" title="10.5总结"></a>10.5总结</h3><p>时隔多天再做模拟赛。。。然而也没有多少天，也就4天没做模拟赛而已。。。</p>
<p>今天交晚了，所以没成绩，不过我自己测了一下，应该是40分，尴尬。400分才做这么点分，实在有一点说不过去。</p>
<p>今天的t1看起来并没有那么难，事实证明我离正确答案已经很近了，但是并没有想到标答那一步，导致我这道题只有20分的暴力分&amp;拖延了交卷时间。t2很显然，它的暴力可以拿到50分，然而zz一般的我竟然选择放弃这道题的暴力，去想t1和t4，真的不知道该说什么好了。t3最开始以为就是一个裸的线段树，然而它的数据范围到了$1e9$，这就比较gg了。t4就比较惨淡，最开始我还想着是不是个dp，然后写了半天没跳出来，只得放弃。</p>
<p>因此，纵观今天的题与自己的分数，我觉得我的分数低主要是体现在<strong>实力不足</strong>上（咳咳，这貌似是每场都是低分的主要理由了吧），其次，还有很大一部分是<strong>分配时间以及心态上的问题</strong>，就比如t2本来还能拿个50分，却图正解然后正解没想出来，暴力也没打完。不过这一方面是我永远都改不掉的，这就比较gg。这几场比赛最开始都是在发愣，所以说上来先直截了当的打个暴力是坠吼的，然后拿到暴力分后再慢慢想（反正打暴力也花不了多少时间嘛）。题解见下。</p>
<p>今天下午fsf讲了特（我）别（都）特（听）别（不）难（懂）的图论。到现在（17:00）我在实现了第一道例题。。。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/10/09/2017-10-1-2017-10-8总结/" data-id="cj8lqzlvv0000kwrsee22bn3b" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/总结/">总结</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2017-9月总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/09/2017-9月总结/" class="article-date">
  <time datetime="2017-10-09T14:58:06.000Z" itemprop="datePublished">2017-10-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/09/2017-9月总结/">2017.9月总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="2017-9总结"><a href="#2017-9总结" class="headerlink" title="2017.9总结"></a>2017.9总结</h2><h3 id="9-14总结"><a href="#9-14总结" class="headerlink" title="9.14总结"></a>9.14总结</h3><p>​    今天就比较gg。如果我没有记错的话，我已经有一段时间没有考上过150了。虽然说我这次考了192，但是（是个人都懂）这个成绩很烂。</p>
<p>​    今天这道题比较简单，比一般的比赛简单（要不然我这种juruo是不可能上100的）。第一题是一道暴力dp，第二题是道大模拟，第三个目测是dp，但本juruo不会做。</p>
<p>第一题还是很套路的。一看就知道是个二位状态，然后我们枚举最后一次所选的凳子，$f（i，j）$为我们选了i个凳子，最后一次选的第j个凳子的最后方案，那么我们很容易就得到状态转移方程式$f（i，j）=max（f（i，j），f（i-1，s）+sum）$，因为每个凳子只能选一次，所以得保证$s&lt;j$即可，然后找到$f[k]<a href="1\leq i\leq m">i</a>$的最大值就好了。</p>
<p>​    第二题就更加简单。这道题就是一个分数之间的加法，（可能跟数据水有关系）开个long long就够了，但是切记求lcm的时候先除以最大公约数，然后再乘分母，要不然会爆。其他的按照题意模拟既可。</p>
<p>​    第三题乍一看是到dp（但它应该就是一道dp），然后想了想没有想出来，于是打算打个大暴力，但是由于我花在前两题的时间过多，于是第三题的暴力没有打完，于是暴0了。</p>
<p>​    总体的总结一下，我觉得我的时间分配可能还是有一些问题，比赛刚开始应该把题全都看一遍（比如这次t2就比t1简单了一节）；其次，我觉得我本场的最大的失误（灾难性失误）就是t2忘了判断分子为0如何输出的问题了，导致我这道题只拿了92分。这种失误也表现出了我的代码能力偏弱以及思维逻辑不够严谨等特点，所以我还是不能小看模拟题，适当的也要做一做复杂的模拟题。</p>
<h3 id="9-21总结"><a href="#9-21总结" class="headerlink" title="9.21总结"></a>9.21总结</h3><p>比赛网址：<a href="http://zybuluo.com/Falsyta/note/772691" target="_blank" rel="external">http://zybuluo.com/Falsyta/note/772691</a></p>
<p><del>（貌似只有我心情好才写总结）</del></p>
<p>​    今天的题其实我看着觉得很难，其实它就是很难。。。</p>
<p>​    t1就是求<br>$$<br>(\sum_{i=1}^{m}\ \ n\ \ mod\ \ i)\ \ mod\ \ 10^{9}+7<br>$$<br>​    看似很智障，其实就是很智障。</p>
<p>​    这道题就是将$n\ \ mod\ \ i$ 写成$n-\llcorner \frac{n}{i}\ \lrcorner \times i$</p>
<p>​    这样我们就可以枚举一下$\llcorner \frac{n}{i}\ \lrcorner$的值的情况。它一共会有$\sqrt{m}$种不同的值，然后显然这道题就做完了。</p>
<p>​    </p>
<p>​    下面我们看一下t2。</p>
<p>​    这道题肯定就是选$\frac{n}{2}+1$个数嘛，这样才能使两个总和尽量大。</p>
<p>​    因为我们需要使两个总和都尽量大，这时我莫名其妙的想起了国王的游戏（瞎想），然后果断的取了乘积前k大的（$k=\frac{n}{2}+1$），然后顺带就莫名其妙的A了。。。虽说我现在都不知道这个为什么是对的。</p>
<h3 id="9-23模拟赛总结"><a href="#9-23模拟赛总结" class="headerlink" title="9.23模拟赛总结"></a>9.23模拟赛总结</h3><p>比赛网址：<a href="https://zybuluo.com/Falsyta/note/894732" target="_blank" rel="external">https://zybuluo.com/Falsyta/note/894732</a></p>
<p>​    今天这套题和21号的是一套题，不过比21号的难了太多了。。。难到随时想弃疗</p>
<p>​    于是t1我就瞎打了个爆搜（深搜），然后顺理成章的拿了50分。</p>
<p>​    t2读了半天题，一直没有明白$3\ \ s$是什么鬼。然后恍然大悟，然后就没有然后了。明显是一道AC自动机，然后我并不会写，所以之后我还是需要看一下AC自动机的相关博客，稍微学习一下。</p>
<p>​    t3听别人都说是智障题，当然结果反映它就是很智障。<del>其实我也觉得很智障</del>，不过我开始做这道题的时候只剩下了10min，于是我不动脑子瞎搞了一个看起来很对的拓扑排序的算法，于是乎它挂掉了，与此同时我发现了它是一道弱智的树形dp，可是为时已晚，就这样gg了。</p>
<p>​    最终只是拿到了50分。。。</p>
<p>​    下面我大概论述一下标算（我调出来的）：</p>
<p>​    t1其实就是一个爆搜，不过我们需要使用bfs，这个其实没什么好说的啊，直接搞就完了，肯定是要比dfs快的啊（也不知道当时我的脑子是怎么瓦特的）！</p>
<p>​    t2就比较难，我并不会写，但是大概意思我是明白的滴。它是通过二进制建了$logm$ 个AC自动机，然后找size两桶的两个AC自动机合并，然后就没然后了。。。</p>
<p>​    t3就是树形dp，分别用两个数组$f$和$g$记录一些东西。$f<em>{i}$表示以$i$为根的子树需要有多少条边反向过来。$g</em>{i}$表示以$i$为都城最少需要反向多少条边。然后$O(n)$DP一下应该就可以了。</p>
<h3 id="9-23-ACM北京赛区网络赛总结"><a href="#9-23-ACM北京赛区网络赛总结" class="headerlink" title="9.23 ACM北京赛区网络赛总结"></a>9.23 ACM北京赛区网络赛总结</h3><p>​    今天的ACM可是说是比上周的整体都要简单（其实也未必，上周都只做出来两道，今天也只做出来了两道，不过今天有一题有了正确的思路，就是没有时间继续往下想了）。</p>
<p>​    今天的A题十分的水，一看就是签到题。</p>
<p>​    显然，A题它就是一个大的模拟，没什么好说的，代码：</p>
<p>​    </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1015</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> p[MAXN];</div><div class="line"><span class="keyword">int</span> ans = <span class="number">2e9</span> + <span class="number">15</span>, ans1, ans2;</div><div class="line"><span class="keyword">bool</span> vis[MAXN];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> r = <span class="number">0</span>, z = <span class="number">1</span>;</div><div class="line">	<span class="keyword">char</span> ch = getchar();</div><div class="line">	<span class="keyword">while</span>(ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>)&#123;<span class="keyword">if</span>(ch == <span class="string">'-'</span>) z = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">	<span class="keyword">while</span>(ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)&#123;r = r * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">	<span class="keyword">return</span> r * z;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">pd</span><span class="params">(<span class="keyword">int</span> minn, <span class="keyword">int</span> mins, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>((minn + mins) &lt; ans)&#123;</div><div class="line">		ans = minn + mins;</div><div class="line">		ans1 = min(x, y);</div><div class="line">		ans2 = max(x, y);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> n, m;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m) != EOF)&#123;</div><div class="line">		ans = <span class="number">2e9</span> + <span class="number">15</span>;</div><div class="line">		<span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) p[i] = read();</div><div class="line">		<span class="keyword">int</span> q = read(), t;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; q; i ++)&#123;t = read(); vis[t] = <span class="number">1</span>;&#125;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++)&#123;</div><div class="line">			<span class="keyword">int</span> tmp = <span class="number">1</span>, minn = <span class="number">1e9</span> + <span class="number">7</span>, x = i, y;</div><div class="line">			<span class="keyword">if</span>(vis[i]) <span class="keyword">continue</span>;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j ++)&#123;</div><div class="line">				<span class="keyword">if</span>(!vis[j])&#123;</div><div class="line">					tmp ++;</div><div class="line">					<span class="keyword">if</span>(p[j] &lt; minn)&#123;</div><div class="line">						minn = p[j];</div><div class="line">						y = j;</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">				<span class="keyword">if</span>(tmp == m)&#123;pd(minn, p[x], x, y); <span class="keyword">break</span>;&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, ans1, ans2);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	init();</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>​    I题一看就知道是线段树，不过我们需要求出最大值和最小值，改动仅此而已（最开始我没看到可以重复，于是还算了次小和最小，于是搞得很乱）不过最终我们还是成功的做出来了这道题，不过这也耗尽了<del>我们队员</del>我的脑细胞。</p>
<p>​    接来下我们一直在搞G题，可是绞尽脑汁还是没有找到规律，可见我的智商低下啊。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> DB;</div><div class="line"></div><div class="line"><span class="keyword">const</span> ll MAXN = <span class="number">2</span> &lt;&lt; <span class="number">17</span> + <span class="number">1</span>;</div><div class="line"><span class="keyword">const</span> ll INF = <span class="number">2</span> &lt;&lt; <span class="number">31</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></div><div class="line">	ll maxx, maxs, minn, mins;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</div><div class="line">		maxs = maxx = -INF;</div><div class="line">		minn = mins = INF;</div><div class="line">	&#125;</div><div class="line">&#125;s[MAXN];</div><div class="line"></div><div class="line">ll a[MAXN];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">Max</span><span class="params">(ll a, ll b)</span></span>&#123;<span class="keyword">return</span> a &gt; b ? a : b;&#125;</div><div class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">Min</span><span class="params">(ll a, ll b)</span></span>&#123;<span class="keyword">return</span> a &lt; b ? a : b;&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(l == r)&#123;s[p].maxs = s[p].maxx = s[p].minn = s[p].mins = a[l]; <span class="keyword">return</span> ;&#125;</div><div class="line">	<span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">	build(p * <span class="number">2</span>, l, mid); </div><div class="line">	build(p * <span class="number">2</span> + <span class="number">1</span>, mid + <span class="number">1</span>, r);</div><div class="line">	<span class="keyword">int</span> ls = p * <span class="number">2</span>, rs = p * <span class="number">2</span> + <span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(s[ls].maxx &gt; s[rs].maxx)&#123;</div><div class="line">		s[p].maxx = s[ls].maxx; s[p].maxs = s[rs].maxx;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span> &#123;</div><div class="line">		s[p].maxx = s[rs].maxx; s[p].maxs = s[ls].maxx;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(s[ls].minn &lt; s[rs].minn)&#123;</div><div class="line">		s[p].minn = s[ls].minn; s[p].mins = s[rs].minn;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span> &#123;</div><div class="line">		s[p].minn = s[rs].minn; s[p].mins = s[ls].minn;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</div><div class="line">	ll r = <span class="number">0</span>, z = <span class="number">1</span>;</div><div class="line">	<span class="keyword">char</span> ch = getchar();</div><div class="line">	<span class="keyword">while</span>(ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>)&#123;<span class="keyword">if</span>(ch == <span class="string">'-'</span>) z = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">	<span class="keyword">while</span>(ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)&#123;r = r * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">	<span class="keyword">return</span> r * z;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">modify</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> x, <span class="keyword">int</span> v)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(l == r)&#123;s[p].maxs = s[p].maxx = s[p].minn = s[p].mins = v; <span class="keyword">return</span> ;&#125;</div><div class="line">	<span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(x &lt;= mid) modify(p * <span class="number">2</span>, l, mid, x, v);</div><div class="line">	<span class="keyword">else</span> modify(p * <span class="number">2</span> + <span class="number">1</span>, mid + <span class="number">1</span>, r, x, v);</div><div class="line">	<span class="keyword">int</span> ls = p * <span class="number">2</span>, rs = p * <span class="number">2</span> + <span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(s[ls].maxx &gt; s[rs].maxx)&#123;</div><div class="line">		s[p].maxx = s[ls].maxx; s[p].maxs = s[rs].maxx;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span> &#123;</div><div class="line">		s[p].maxx = s[rs].maxx; s[p].maxs = s[ls].maxx;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(s[ls].minn &lt; s[rs].minn)&#123;</div><div class="line">		s[p].minn = s[ls].minn; s[p].mins = s[rs].minn;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span> &#123;</div><div class="line">		s[p].minn = s[rs].minn; s[p].mins = s[ls].minn;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">Node <span class="title">query</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</div><div class="line">	Node ll, rr, res;</div><div class="line">	ll.init(); rr.init(); res.init();</div><div class="line">	<span class="keyword">if</span>(x &lt;= l &amp;&amp; r &lt;= y) <span class="keyword">return</span> s[p];</div><div class="line">	<span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(x &lt;= mid) ll = query(p * <span class="number">2</span>, l, mid, x, y);</div><div class="line">	<span class="keyword">if</span>(y &gt; mid) rr = query(p * <span class="number">2</span> + <span class="number">1</span>, mid + <span class="number">1</span>, r, x, y);</div><div class="line">	<span class="keyword">if</span>(ll.maxx == -INF)&#123;</div><div class="line">		res.maxx = rr.maxx; res.maxs = rr.maxs; res.minn = rr.minn; res.mins = rr.mins;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(rr.maxx == -INF)&#123;</div><div class="line">		res.maxx = ll.maxx; res.maxs = ll.maxs; res.minn = ll.minn; res.mins = ll.mins;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span> &#123;</div><div class="line">		<span class="keyword">if</span>(ll.maxx &gt; rr.maxx)&#123;</div><div class="line">			res.maxx = ll.maxx; res.maxs = rr.maxx;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> &#123;</div><div class="line">			res.maxx = rr.maxx; res.maxs = ll.maxx;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span>(ll.minn &lt; rr.minn)&#123;</div><div class="line">			res.minn = ll.minn; res.mins = rr.minn;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> &#123;</div><div class="line">			res.minn = rr.minn; res.mins = ll.minn;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> T = read();</div><div class="line">	<span class="keyword">while</span>(T --)&#123;</div><div class="line">		<span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="keyword">sizeof</span>(a));</div><div class="line">		ll n = read();</div><div class="line">		n = (<span class="number">1</span> &lt;&lt; n);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">4</span> * n; i ++) s[i].init();</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) a[i] = read();</div><div class="line">		build(<span class="number">1</span>, <span class="number">1</span>, n);</div><div class="line">		<span class="comment">/*</span></div><div class="line"><span class="comment">		for(int i = 1; i &lt; 4 * n ; i ++)&#123;</span></div><div class="line"><span class="comment">			cout&lt;&lt;i&lt;&lt;": "&lt;&lt;endl;</span></div><div class="line"><span class="comment">			cout&lt;&lt;s[i].maxx&lt;&lt;" "&lt;&lt;s[i].maxs&lt;&lt;" "&lt;&lt;s[i].mins&lt;&lt;" "&lt;&lt;s[i].minn&lt;&lt;endl;</span></div><div class="line"><span class="comment">		&#125;</span></div><div class="line"><span class="comment">		*/</span></div><div class="line">		<span class="keyword">int</span> q = read();</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= q; i ++)&#123;</div><div class="line">			<span class="keyword">int</span> e = read();</div><div class="line">			<span class="keyword">if</span>(e == <span class="number">1</span>)&#123;</div><div class="line">				<span class="keyword">int</span> x = read() + <span class="number">1</span>, y = read() + <span class="number">1</span>;</div><div class="line">				Node ans = query(<span class="number">1</span>, <span class="number">1</span>, n, x, y);</div><div class="line">				<span class="comment">//cout&lt;&lt;ans.maxs&lt;&lt;" "&lt;&lt;ans.maxx&lt;&lt;" "&lt;&lt;ans.minn&lt;&lt;" "&lt;&lt;ans.mins&lt;&lt;endl;</span></div><div class="line">				ll a1 = <span class="number">1l</span>l * ans.maxx * ans.maxs;</div><div class="line">				ll a2 = <span class="number">1l</span>l * ans.mins * ans.minn;</div><div class="line">				ll a3 = <span class="number">1l</span>l * ans.maxx * ans.minn;</div><div class="line">				ll a4 = <span class="number">1l</span>l * ans.maxs * ans.mins;</div><div class="line">				ll a5 = <span class="number">1l</span>l * ans.maxx * ans.mins;</div><div class="line">				ll a6 = <span class="number">1l</span>l * ans.maxs * ans.minn;</div><div class="line">				ll a7 = <span class="number">1l</span>l * ans.maxx * ans.maxx;</div><div class="line">				ll a8 = <span class="number">1l</span>l * ans.maxs * ans.maxs;</div><div class="line">				ll a9 = <span class="number">1l</span>l * ans.minn * ans.minn;</div><div class="line">				ll a10 = <span class="number">1l</span>l * ans.mins * ans.mins;</div><div class="line">				<span class="comment">//if(ans.maxx == -INF)&#123;a1 = a3 = a4 = INF;&#125;</span></div><div class="line">				<span class="comment">//if(ans.minn == INF)&#123;a2 = a3 = a4 = INF;&#125;</span></div><div class="line">				<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, Min(a1, Min(a2, Min(a3, Min(a4, Min(a5, Min(a6, Min(a7, Min(a8, Min(a9, a10))))))))));</div><div class="line">			</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(e == <span class="number">2</span>)&#123;</div><div class="line">				<span class="keyword">int</span> x = read() + <span class="number">1</span>, y = read();</div><div class="line">				modify(<span class="number">1</span>, <span class="number">1</span>, n, x, y);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="comment">//fre();</span></div><div class="line">	init();</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">2</span></div><div class="line"><span class="comment">3</span></div><div class="line"><span class="comment">1 1 2 2 1 1 2 2</span></div><div class="line"><span class="comment">5</span></div><div class="line"><span class="comment">1 0 7</span></div><div class="line"><span class="comment">1 1 2</span></div><div class="line"><span class="comment">2 1 2</span></div><div class="line"><span class="comment">2 2 2</span></div><div class="line"><span class="comment">1 1 2</span></div><div class="line"><span class="comment">3</span></div><div class="line"><span class="comment">1 1 2 2 1 1 2 2</span></div><div class="line"><span class="comment">5</span></div><div class="line"><span class="comment">1 0 7</span></div><div class="line"><span class="comment">1 1 2</span></div><div class="line"><span class="comment">2 1 2</span></div><div class="line"><span class="comment">2 2 2</span></div><div class="line"><span class="comment">1 1 2</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">1</span></div><div class="line"><span class="comment">4</span></div><div class="line"><span class="comment">1 6 3 7 -4 6 4 -6 3 6 6 -4 6 -8 4 6</span></div><div class="line"><span class="comment">6</span></div><div class="line"><span class="comment">1 0 15</span></div><div class="line"><span class="comment">2 5 7</span></div><div class="line"><span class="comment">1 4 7</span></div><div class="line"><span class="comment">2 7 4</span></div><div class="line"><span class="comment">2 12 1</span></div><div class="line"><span class="comment">1 2 14</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure>
<p>​    不过比赛结束后通过神犇的cjr的讲解终于是知道了规律是怎么找出来的了。</p>
<p>​    其实这道题的规律是吧边界上的点与图的中间部分的点分开算，$n$和$m$都先减一，然后我们先求$d=gcd(n,m)$，接着$n = \frac{n}{d}\$ ，$m=\frac{m}{d}$， 于是乎我们可以 用$ans$来表示答案，$ans=n+m+(d-1)\times n \times m$ 这样就算出答案了。</p>
<p>​    </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> r = <span class="number">0</span>, z = <span class="number">1</span>;</div><div class="line">	<span class="keyword">char</span> ch = getchar();</div><div class="line">	<span class="keyword">while</span>(ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>)&#123;<span class="keyword">if</span>(ch == <span class="string">'-'</span>) z = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">	<span class="keyword">while</span>(ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)&#123;r = r * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">	<span class="keyword">return</span> r * z;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">LL <span class="title">gcd</span><span class="params">(LL a, LL b)</span></span>&#123;<span class="keyword">return</span> !b ? a : gcd(b, a % b);&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</div><div class="line">	LL n, m;</div><div class="line">	LL ans;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>, &amp;n, &amp;m) != EOF)&#123;</div><div class="line">		ans = <span class="number">0</span>;</div><div class="line">		n --; m --;</div><div class="line">		LL d = gcd(n, m);</div><div class="line">		LL gg1 = n / d, gg2 = m / d;</div><div class="line">		ans = gg1 + gg2 + (d - <span class="number">1</span>) * gg1 * gg2;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	init();</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>​    总的来说，今天的ACM我们已经尽力了，可能实力差距确实很大，所以我还是需要多加练习啊！</p>
<h3 id="9-24模拟赛总结"><a href="#9-24模拟赛总结" class="headerlink" title="9.24模拟赛总结"></a>9.24模拟赛总结</h3><p>今日题目链接：<a href="https://zybuluo.com/stevenzheng2002/note/895717" target="_blank" rel="external">https://zybuluo.com/stevenzheng2002/note/895717</a></p>
<p>​    10分。。。</p>
<p>​    尴尬的10分，居然t1的40分暴力都打错了，真的是。。。无语了。</p>
<p>​    据说这套题很难（貌似并不是据说，就是很难），还有国家集训队的作业，所以考不高也很正常，但是暴力都没打过就有些说不过去了啊！</p>
<h3 id="9-24-ACM南宁赛区网络赛总结"><a href="#9-24-ACM南宁赛区网络赛总结" class="headerlink" title="9.24 ACM南宁赛区网络赛总结"></a>9.24 ACM南宁赛区网络赛总结</h3><p>​    这个。。。</p>
<p>​    今天出了些小偏差，貌似北京交通大学在跟我们共用一个号。。。然后我们就被别人带着飞了。。。每次刚看完题，那边就把这道题A了，十分interesting，这样导致我们自己A的题目数量只有2道（他们做太快了，若果慢的话，我们也能A）。</p>
<p>​    总体来说，今天的ACM没有像前两天那样特别智障的签到题，但是中等偏易的题比较多，得有个7道左右，所以今天排在400多都要A个8,9道，竞争十分激烈。</p>
<p>​    最后我们还是需要调一下这些题，毕竟好多不是自己A的（虽然会写）。</p>
<h3 id="9-26总结"><a href="#9-26总结" class="headerlink" title="9.26总结"></a>9.26总结</h3><p>​    今天这个生日过得十分糟糕。。。本以为今天这套简单题能让我上200，没想到。。。t1就写挂了。</p>
<p>​    今天的题相较过去一段时间的题来说，简单多了不少，听其他人说只有t2的10%难拿，其他的都是水题。然而写了2h t2的我表示t3一眼都没看。。。</p>
<p>​    先说一下今天的题。t1确实很水，就是枚举你需要用多少辆车就行了，先把重量从大到小排个序，对于用$x$辆车，直接用深搜（爆搜）来检验是否合理即可。千万不要忘了剪枝！！！我因为没有剪枝挂了4个点。。。剪枝大概就是先求一个重量总和$sum$，然后车辆数从$sum \div\ w$开始算到n即可！</p>
<p>​    t2其实也不是特别难，主要是10分的C类型比较难拿。颂芬数据直接跑一遍SPFA即可。30%的A类数据是裸的LCA，不多赘述；50%的B类数据就是环套树，判断一下选不选此边即可。</p>
<p>​    总的来讲，我的思维训练的还是不到位。t2能写出2h。。。而且做题前一定要计算一下复杂度，看看是不是差不多能过。然后还有就是读题一定要读清楚！！！读不清楚就多读两遍！！！比如我今天t2的B类数据我就理解成$n$个点组成一个大环了。。。</p>
<h3 id="9-29总结"><a href="#9-29总结" class="headerlink" title="9.29总结"></a>9.29总结</h3><p>​    今天主要就做了LCA和dijsktra方面的题，共6道。感觉我调了很多“灵异”方面的问题。比如cout，printf输出的答案。</p>
<p>​    其实说是六道，一共也就相当于做了2道，因为有4道题都是模板题。我大概就说一下小z摘玉米和货车运输吧。</p>
<p>​    小z摘玉米就是一道比较弱的题。题意大概是就说一棵树，$q$次询问，每次询问$u$到$v$，求$u$到$v$的路径上的所有点的最大值与次大值之和（包括$u$和$v$）。</p>
<p>​    这道题其实几乎就是裸的LCA。只不过我们需要加两个数组$hx$，$hn$。$hx[i][j]$表示的是在$i$到$i$的$2^j$倍的祖先的所有点的点权的最大值（不包括$i$的$2^j$倍祖先），预处理也就不用我说了，然后这要就是在求lca的过程中随着x和y的往上更新，也顺便更新一下目前的最大值与次大值。</p>
<p>代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> DB;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Max1</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> c, <span class="keyword">int</span> g)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> h[<span class="number">6</span>];</div><div class="line">	h[<span class="number">1</span>] = a, h[<span class="number">2</span>] = b, h[<span class="number">3</span>] = c, h[<span class="number">4</span>] = g;</div><div class="line">	sort(h + <span class="number">1</span>, h + <span class="number">5</span>);</div><div class="line">	<span class="keyword">return</span> h[<span class="number">4</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Max2</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> c, <span class="keyword">int</span> g)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> h[<span class="number">6</span>];</div><div class="line">	h[<span class="number">1</span>] = a, h[<span class="number">2</span>] = b, h[<span class="number">3</span>] = c, h[<span class="number">4</span>] = g;</div><div class="line">	sort(h + <span class="number">1</span>, h + <span class="number">5</span>);</div><div class="line">	<span class="keyword">return</span> h[<span class="number">3</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1e5</span> + <span class="number">15</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></div><div class="line">	<span class="keyword">int</span> to, nxt;</div><div class="line">&#125;g[MAXN * <span class="number">2</span>];</div><div class="line"></div><div class="line"><span class="keyword">int</span> ans1 = <span class="number">-1</span>, ans2 = <span class="number">-1</span>;</div><div class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>, n;</div><div class="line"><span class="keyword">int</span> a[MAXN], d[MAXN];</div><div class="line"><span class="keyword">int</span> head[MAXN], p[MAXN][<span class="number">20</span>];</div><div class="line"><span class="keyword">int</span> hx[MAXN][<span class="number">20</span>], hn[MAXN][<span class="number">20</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></span>&#123;</div><div class="line">	g[++ cnt] = (Node)&#123;v, head[u]&#125;;</div><div class="line">	head[u] = cnt;</div><div class="line">	g[++ cnt] = (Node)&#123;u, head[v]&#125;;</div><div class="line">	head[v] = cnt;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> r = <span class="number">0</span>, z = <span class="number">1</span>;</div><div class="line">	<span class="keyword">char</span> ch = getchar();</div><div class="line">	<span class="keyword">while</span>(ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>)&#123;<span class="keyword">if</span>(ch == <span class="string">'-'</span>) z = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">	<span class="keyword">while</span>(ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)&#123;r = r * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">	<span class="keyword">return</span> r * z;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="built_in">memset</span>(d, <span class="number">-1</span>, <span class="keyword">sizeof</span>(d));</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) hx[i][<span class="number">0</span>] = a[i];</div><div class="line">	d[<span class="number">1</span>] = <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; i; i = g[i].nxt)&#123;</div><div class="line">		<span class="keyword">int</span> v = g[i].to;</div><div class="line">		<span class="keyword">if</span>(d[v] == <span class="number">-1</span>)&#123;</div><div class="line">			d[v] = d[u] + <span class="number">1</span>;</div><div class="line">			p[v][<span class="number">0</span>] = u;</div><div class="line">			dfs(v);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">pre</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; (<span class="number">1</span> &lt;&lt; i) &lt;= n; i ++)&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j ++)&#123;</div><div class="line">			<span class="keyword">if</span>(p[j][i - <span class="number">1</span>])&#123;</div><div class="line">				p[j][i] = p[p[j][i - <span class="number">1</span>]][i - <span class="number">1</span>];</div><div class="line">				hx[j][i] = max(hx[j][i - <span class="number">1</span>], hx[p[j][i - <span class="number">1</span>]][i - <span class="number">1</span>]);</div><div class="line">				hn[j][i] = Max2(hx[j][i - <span class="number">1</span>], hx[p[j][i - <span class="number">1</span>]][i - <span class="number">1</span>], hn[j][i - <span class="number">1</span>], hn[p[j][i - <span class="number">1</span>]][i - <span class="number">1</span>]);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">lca</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(d[x] &lt; d[y]) swap(x, y);</div><div class="line">	<span class="keyword">int</span> i;</div><div class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; (<span class="number">1</span> &lt;&lt; i) &lt;= n; i ++);</div><div class="line">	i --;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &gt;= <span class="number">0</span>; j --)</div><div class="line">		<span class="keyword">if</span>(d[x] - (<span class="number">1</span> &lt;&lt; j) &gt;= d[y])&#123;</div><div class="line">			ans1 = max(hx[x][j], ans1);</div><div class="line">			ans2 = max(hn[x][j], ans2);</div><div class="line">			x = p[x][j];</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">	<span class="keyword">if</span>(x == y) <span class="keyword">return</span> x;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &gt;= <span class="number">0</span>; j --)&#123;</div><div class="line">		<span class="comment">//cout&lt;&lt;x&lt;&lt;endl;</span></div><div class="line">		<span class="keyword">if</span>(p[x][j] != p[y][j])&#123;</div><div class="line">			<span class="keyword">int</span> tmp2 = Max2(hx[x][j], hn[x][j], hx[y][j], hn[y][j]);</div><div class="line">			<span class="keyword">int</span> tmp1 = Max1(hx[x][j], hn[x][j], hx[y][j], hn[y][j]);</div><div class="line">			<span class="keyword">int</span> gg2 = Max2(ans1, ans2, tmp1, tmp2);</div><div class="line">			<span class="keyword">int</span> gg1 = Max1(ans1, ans2, tmp1, tmp2);</div><div class="line">			ans1 = gg1, ans2 = gg2;</div><div class="line">			x = p[x][j];</div><div class="line">			y = p[y][j];</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> tmp2 = Max2(hx[x][<span class="number">0</span>], hn[x][<span class="number">0</span>], hx[y][<span class="number">0</span>], hn[y][<span class="number">0</span>]);</div><div class="line">	<span class="keyword">int</span> tmp1 = Max1(hx[x][<span class="number">0</span>], hn[x][<span class="number">0</span>], hx[y][<span class="number">0</span>], hn[y][<span class="number">0</span>]);</div><div class="line">	<span class="keyword">int</span> gg2 = Max2(ans1, ans2, tmp1, tmp2);</div><div class="line">	<span class="keyword">int</span> gg1 = Max1(ans1, ans2, tmp1, tmp2);</div><div class="line">	ans1 = gg1, ans2 = gg2;</div><div class="line">	<span class="keyword">return</span> p[x][<span class="number">0</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>&#123;</div><div class="line">	n = read();</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) a[i] = read();</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i ++)&#123;</div><div class="line">		<span class="keyword">int</span> u = read(), v = read();</div><div class="line">		add(u, v);</div><div class="line">	&#125;</div><div class="line">	init();</div><div class="line">	dfs(<span class="number">1</span>);</div><div class="line">	pre();</div><div class="line">	<span class="comment">/*</span></div><div class="line"><span class="comment">	for(int i = 1; i &lt;= n; i ++)&#123;</span></div><div class="line"><span class="comment">		for(int j = 0; (1 &lt;&lt; j) &lt;= n; j ++) printf("%d ", hn[i][j]);</span></div><div class="line"><span class="comment">		printf("\n");</span></div><div class="line"><span class="comment">	&#125;</span></div><div class="line"><span class="comment">	*/</span></div><div class="line">	<span class="keyword">int</span> Q = read();</div><div class="line">	<span class="keyword">while</span>(Q --)&#123;</div><div class="line">		ans1 = <span class="number">0</span>, ans2 = <span class="number">0</span>;</div><div class="line">		<span class="keyword">int</span> u = read(), v = read();</div><div class="line">		<span class="keyword">int</span> gr = lca(u, v);</div><div class="line">		<span class="comment">//cout&lt;&lt;ans1&lt;&lt;" "&lt;&lt;ans2&lt;&lt;endl;</span></div><div class="line">		<span class="keyword">if</span>(a[gr] &gt;= ans1)&#123;</div><div class="line">			ans2 = ans1;</div><div class="line">			ans1 = a[gr];</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(a[gr] &gt;= ans2) ans2 = a[gr];</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans1 + ans2);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	work();</div><div class="line">	<span class="keyword">return</span>  <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>货车运输：</p>
<p>​    这道题说的大概就是一棵树，$q$次询问，每次询问是$u$和$v$，求$u$到$v$的路径上的边权最小值。</p>
<p>​    这道题相对来讲比上一道题还简单，然而我却出了一些灵异事件，比如cout和printf输出的答案不太一样，结果花了我5.5h找到了错误：for里面的$i$我重复定义了。。。这tm就尴尬了。</p>
<p>​    这道题主要是在LCA模板上加一个$h$数组，$h[i][j]$表示点$i$到$i$的$2^j$倍祖先的路上的所有边的边权最小值。然后同上面一道题一样，在求lca的时候更新当前的$ans$。代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> DB;</div><div class="line"></div><div class="line"><span class="function">LL <span class="title">Max</span><span class="params">(LL a, LL b)</span></span>&#123;<span class="keyword">return</span> a &gt; b ? a : b;&#125;</div><div class="line"><span class="function">LL <span class="title">Min</span><span class="params">(LL a, LL b)</span></span>&#123;<span class="keyword">return</span> a &lt; b ? a : b;&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1e5</span> + <span class="number">15</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></div><div class="line">	<span class="keyword">int</span> from, to, dis;</div><div class="line">&#125;e[MAXN];</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span>&#123;</span></div><div class="line">	<span class="keyword">int</span> to, nxt, dis;</div><div class="line">&#125;g[MAXN];</div><div class="line"></div><div class="line"><span class="keyword">int</span> n, m;</div><div class="line"><span class="keyword">int</span> cnt_edge = <span class="number">0</span>, ans;</div><div class="line"><span class="keyword">int</span> fa[MAXN / <span class="number">10</span>];</div><div class="line"><span class="keyword">int</span> head[MAXN / <span class="number">10</span>], cnt = <span class="number">0</span>;</div><div class="line"><span class="keyword">int</span> p[MAXN / <span class="number">10</span>][<span class="number">20</span>], h[MAXN / <span class="number">10</span>][<span class="number">20</span>], d[MAXN/ <span class="number">10</span>];</div><div class="line"><span class="keyword">bool</span> flag[MAXN / <span class="number">10</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> dis)</span></span>&#123;</div><div class="line">	e[++ cnt_edge].from = u;</div><div class="line">	e[cnt_edge].to = v;</div><div class="line">	e[cnt_edge].dis = dis;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_edge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> dis)</span></span>&#123;</div><div class="line">	g[++ cnt].to = v;</div><div class="line">	g[cnt].nxt = head[u];</div><div class="line">	g[cnt].dis = dis;</div><div class="line">	head[u] = cnt;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> r = <span class="number">0</span>, z = <span class="number">1</span>;</div><div class="line">	<span class="keyword">char</span> ch = getchar();</div><div class="line">	<span class="keyword">while</span>(ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>)&#123;<span class="keyword">if</span>(ch == <span class="string">'-'</span>) z = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">	<span class="keyword">while</span>(ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)&#123;r = r * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">	<span class="keyword">return</span> r * z;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">fre</span><span class="params">()</span></span>&#123;</div><div class="line">	freopen(<span class="string">".in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line">	freopen(<span class="string">".out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(Node x, Node y)</span> </span>&#123;<span class="keyword">return</span> x.dis &gt; y.dis;&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getfa</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(x == fa[x]) <span class="keyword">return</span> fa[x];</div><div class="line">	<span class="keyword">return</span> fa[x] = getfa(fa[x]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">kruskal</span><span class="params">()</span></span>&#123;</div><div class="line">	sort(e + <span class="number">1</span>, e + m + <span class="number">1</span>, cmp);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) fa[i] = i;</div><div class="line">	<span class="keyword">int</span> k = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i ++)&#123;</div><div class="line">		<span class="keyword">int</span> u = e[i].from, v = e[i].to, dis = e[i].dis;</div><div class="line">		<span class="keyword">int</span> f1 = getfa(u), f2 = getfa(v);</div><div class="line">		<span class="keyword">if</span>(f1 != f2)&#123;</div><div class="line">		    fa[f2] = f1;</div><div class="line">			add_edge(u, v, dis);</div><div class="line">			add_edge(v, u, dis); </div><div class="line">			k ++;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span>(k == n - <span class="number">1</span>) <span class="keyword">break</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">fuckit</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="built_in">memset</span>(d, <span class="number">-1</span>, <span class="keyword">sizeof</span>(d));</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; (<span class="number">1</span> &lt;&lt; j) &lt;= n; j ++) h[i][j] = <span class="number">2e9</span>;</div><div class="line">	&#125;</div><div class="line">	d[<span class="number">1</span>] = <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; i; i = g[i].nxt)&#123;</div><div class="line">		<span class="keyword">int</span> v = g[i].to;</div><div class="line">		<span class="keyword">if</span>(d[v] == <span class="number">-1</span>)&#123;</div><div class="line">			d[v] = d[u] + <span class="number">1</span>;</div><div class="line">			p[v][<span class="number">0</span>] = u;</div><div class="line">			h[v][<span class="number">0</span>] = g[i].dis;</div><div class="line">			flag[v] = <span class="number">1</span>;</div><div class="line">			dfs(v);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; (<span class="number">1</span> &lt;&lt; i) &lt;= n; i ++)&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j ++)&#123;</div><div class="line">			<span class="keyword">if</span>(p[j][i - <span class="number">1</span>])&#123;</div><div class="line">				p[j][i] = p[p[j][i - <span class="number">1</span>]][i - <span class="number">1</span>];</div><div class="line">				h[j][i] = min(h[j][i - <span class="number">1</span>], h[p[j][i - <span class="number">1</span>]][i - <span class="number">1</span>]);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">lca</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> i;</div><div class="line">	ans = <span class="number">2e9</span>;</div><div class="line">	<span class="keyword">if</span>(d[x] &lt; d[y]) swap(x, y);</div><div class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; (<span class="number">1</span> &lt;&lt; i) &lt;= d[x]; i ++);</div><div class="line">	i --;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &gt;= <span class="number">0</span>; j --)&#123;</div><div class="line">		<span class="keyword">if</span>(d[x] - (<span class="number">1</span> &lt;&lt; j) &gt;= d[y])&#123;ans = min(ans, h[x][j]); x = p[x][j];&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//cout&lt;&lt;x&lt;&lt;"*cout"&lt;&lt;y&lt;&lt;endl;</span></div><div class="line">	<span class="comment">//printf("%d %d\n", x, y);</span></div><div class="line">	<span class="keyword">if</span>(x == y) <span class="keyword">return</span> x;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &gt;= <span class="number">0</span>; j --)&#123;</div><div class="line">		<span class="keyword">if</span>(p[x][j] != p[y][j] &amp;&amp; p[x][j])&#123;</div><div class="line">			ans = min(ans, h[x][j]);</div><div class="line">			x = p[x][j];</div><div class="line">			ans = min(ans, h[y][j]);</div><div class="line">			y = p[y][j];</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> p[x][<span class="number">0</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">cz</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> k)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> i, res = <span class="number">2e9</span> + <span class="number">7</span>;</div><div class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; (<span class="number">1</span> &lt;&lt; i) &lt;= k; i ++);</div><div class="line">    i --;</div><div class="line">    <span class="keyword">for</span>(; i &gt;= <span class="number">0</span>; i --)</div><div class="line">		<span class="keyword">if</span>(k &amp; (<span class="number">1</span> &lt;&lt; i))&#123;</div><div class="line">        res = min(res, h[u][i]);</div><div class="line">        u = p[u][i];</div><div class="line">		k -= (<span class="number">1</span> &lt;&lt; i); </div><div class="line">    &#125;</div><div class="line">	<span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</div><div class="line">	n = read(), m = read();</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i ++)&#123;</div><div class="line">		<span class="keyword">int</span> u = read(), v = read(), dis = read();</div><div class="line">		add(u, v, dis);</div><div class="line">	&#125;</div><div class="line">	kruskal();</div><div class="line">	fuckit();</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</div><div class="line">		<span class="keyword">if</span>(!flag[i])&#123;flag[i] = <span class="number">1</span>; dfs(i);&#125;</div><div class="line">	&#125;</div><div class="line">	work();</div><div class="line">	<span class="keyword">int</span> q = read();</div><div class="line">	<span class="comment">/*</span></div><div class="line"><span class="comment">	for(int i = 1; i &lt;= n; i ++) cout&lt;&lt;d[i]&lt;&lt;" ";</span></div><div class="line"><span class="comment">	cout&lt;&lt;endl;</span></div><div class="line"><span class="comment">	</span></div><div class="line"><span class="comment">	for(int i = 1; i &lt;= n; i ++)&#123;</span></div><div class="line"><span class="comment">		for(int j = 0; (1 &lt;&lt; j) &lt;= n; j ++) cout&lt;&lt;h[i][j]&lt;&lt;" ";</span></div><div class="line"><span class="comment">		cout&lt;&lt;endl;</span></div><div class="line"><span class="comment">	&#125;</span></div><div class="line"><span class="comment">	for(int i = 1; i &lt;= n; i ++) printf("%d ", fa[i]);</span></div><div class="line"><span class="comment">	printf("\n");</span></div><div class="line"><span class="comment">	*/</span></div><div class="line">	<span class="keyword">while</span>(q --)&#123;</div><div class="line">		<span class="keyword">int</span> a = read(), b = read();</div><div class="line">		<span class="keyword">if</span>(getfa(a) != getfa(b)) <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</div><div class="line">		<span class="keyword">else</span> &#123;</div><div class="line">			<span class="keyword">int</span> tmp = lca(a, b);</div><div class="line">			<span class="comment">//printf("%d\n", tmp);</span></div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,  min(cz(a, d[a] - d[tmp]), cz(b, d[b] - d[tmp])));</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="comment">//fre();</span></div><div class="line">	init();</div><div class="line">	<span class="keyword">return</span>  <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="九月份整体总结"><a href="#九月份整体总结" class="headerlink" title="九月份整体总结"></a>九月份整体总结</h3><p>​    这个月貌似天天都在练，好像没有歇过。。。这个月我已经比较累了，所以十一放假我请了三天假（貌似放假也不能放松啊）。这个九月份做了好多好多套模拟赛，大概一周4套，所以可能做了15套左右，加上这个月还有ACM，所以。。。身体已经经受不住了啊。。。不过看看小学弟还有dalao们还在拼命地练习，这让我感到十分羞愧，毕竟我跟dalao们还有很大的差距啊！！！</p>
<p>​    纵观整个九月份，我的模拟考成绩不算理想，虽说每套的题都比noip提高组略难。其实看看题解，我感觉我欠缺的方面确实还有很多。</p>
<p>​    1.知识广度不够，即会的知识过少。比如什么高端的树链剖分啊，高级的暴力啊，还有各种数论知识我都不会（尴尬），于是我只能在这短暂的一个半月时间里狂学。唉，差的确实太多了。还有80多天，要加油了！</p>
<p>​    2.知识深度不够。这正跟jls所说的模块方面的欠缺有关。其实我刷题刷的很少，导致我会某个知识点，但是真到比赛的时候，需要有一些变动，添加之类的我就不会了，这跟刷题少有着千丝万缕的联系，所以在接下来的这一个月，不仅要多学一些知识，更重要的是要多做题，要不然真到11.11的时候就gg了。。。</p>
<p>​    3.数学太差。这个。。。感觉一时间也不太好补，这方面的欠缺主要体现在找规律找不出来，数学题中的推导不会推之类的问题。像lzy这种随随便便参加数学竞赛都能拿个省一的人来说做信息中的数学题就是小菜一碟。虽说我的智商发展限制了我到达他那么厉害的程度，但是我仍然需要在这方面要有很大的提高，要不然考试也会吃很多亏的。</p>
<p>​    好了，说完了我在这一个月所发现的不足之处之后，我貌似好像就没什么优点了。。。好吧，我承认了我是一个什么都不会，什么都不行的，智商为$-\infty$的蒟蒻（也许我还没有达到一个做为人的基本标准。。。）</p>
<p>​    不管怎样，就算菜到不可救药，我还是要努力啊，要不然连省一都拿不到的话就太tm尴尬了。。。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/10/09/2017-9月总结/" data-id="cj8lqzlwi0005kwrs3sarp76s" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/总结/">总结</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/总结/">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/题解/">题解</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/总结/" style="font-size: 20px;">总结</a> <a href="/tags/题解/" style="font-size: 10px;">题解</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/10/09/洛谷P1941-飞扬的小鸟-题解/">洛谷P1941 飞扬的小鸟 题解</a>
          </li>
        
          <li>
            <a href="/2017/10/09/2017-10-1-2017-10-8总结/">2017.10.1-2017.10.8总结</a>
          </li>
        
          <li>
            <a href="/2017/10/09/2017-9月总结/">2017.9月总结</a>
          </li>
        
          <li>
            <a href="/2017/10/08/树链剖分/">树链剖分</a>
          </li>
        
          <li>
            <a href="/2017/10/08/hello-stevenzheng2002!/">Hello stevenzheng2002！</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 stevenzheng2002<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>